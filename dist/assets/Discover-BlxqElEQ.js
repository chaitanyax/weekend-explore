import{r as n,j as e,L as l}from"./index-Dh8t2Kv9.js";import{u as o}from"./tripsApi-Lfi5cq9J.js";function x({t:s}){var t;return e.jsx(l,{to:`/trips/${s.id}`,className:"block rounded border hover:shadow-sm transition p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.locationName}),s.budget?e.jsxs("p",{className:"text-sm text-gray-700",children:["Budget: ₹",s.budget]}):null,(t=s.tags)!=null&&t.length?e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:s.tags.map(r=>e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-700",children:["#",r]},r))}):null]}),e.jsxs("div",{className:"text-right text-sm text-gray-600",children:[e.jsxs("div",{children:[new Date(s.startDate).toLocaleDateString()," → ",new Date(s.endDate).toLocaleDateString()]}),e.jsxs("div",{children:[s.attendees.length," going"]})]})]})})}function p(){const[s,t]=n.useState(""),[r,d]=n.useTransition(),{data:i,isLoading:c}=o(s?{q:s}:void 0);return e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Discover weekend getaways"}),e.jsx("input",{className:"w-full sm:w-80 border rounded px-3 py-2",placeholder:"Search by place, tag, date…",value:s,onChange:a=>d(()=>t(a.target.value))})]}),c?e.jsx("p",{children:"Loading trips…"}):!i||i.length===0?e.jsxs("p",{className:"text-gray-600",children:["No trips yet. Be the first to ",e.jsx(l,{to:"/trips/new",className:"text-brand-600 underline",children:"create one"}),"!"]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(a=>e.jsx(x,{t:a},a.id))})]})}export{p as default};
