import{u as c,a as m,j as e}from"./index-Dh8t2Kv9.js";import{a as x,b as p}from"./tripsApi-Lfi5cq9J.js";import{G as h}from"./GoogleMap-qJF-opbq.js";function b(){const{id:n=""}=c(),{data:s,isLoading:r,isError:l}=x(n),{user:i}=m(t=>t.auth),[d,{isLoading:a}]=p();if(r)return e.jsx("p",{children:"Loading trip…"});if(l||!s)return e.jsx("p",{children:"Trip not found."});const o=!!i&&s.attendees.some(t=>t.id===i.id);return e.jsxs("section",{className:"space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.locationName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(s.startDate).toLocaleDateString()," → ",new Date(s.endDate).toLocaleDateString()]})]}),i&&!o&&e.jsx("button",{disabled:a,onClick:()=>d({id:s.id}),className:"px-4 py-2 rounded bg-brand-500 text-white hover:bg-brand-600 disabled:opacity-50",children:a?"Joining…":"Join Trip"})]}),s.description&&e.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:s.description}),e.jsx(h,{center:{lat:s.lat,lng:s.lng},marker:{lat:s.lat,lng:s.lng},height:360}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold mb-2",children:["Attendees • ",s.attendees.length]}),e.jsx("ul",{className:"grid sm:grid-cols-2 gap-2",children:s.attendees.map(t=>e.jsxs("li",{className:"rounded border p-3",children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-sm text-gray-600",children:t.email})]},t.id))})]})]})}export{b as default};
